{"ast":null,"code":"import axios from \"axios\";\nimport { getUser } from \"./security\";\nexport const api = axios.create({\n  baseURL: process.env.REACT_APP_API_HOST\n});\nexport async function add(data, newComent, setComents) {\n  const request = {\n    description: newComent.coment\n  };\n  console.log(request);\n\n  if (request.description.length < 10) {\n    alert('Atenção!!\\nA Quantidade minima de caracteres precisa ser no minimo 10');\n    return false;\n  }\n\n  try {\n    const response = await api.post(`/questions/${data.id}/answers`, request, {\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    });\n    alert(\"Comentário Postado com Sucesso!\");\n    const newAnwser = {\n      id: response.data.id,\n      description: response.data.description,\n      created_at: response.data.createdAt,\n      Student: getUser()\n    };\n    data.Answers.push(newAnwser);\n    setComents({\n      description: \"\"\n    });\n  } catch (error) {\n    console.error(error);\n    alert(error);\n  }\n}","map":{"version":3,"sources":["/home/lucasgoianamaliciafaculdade/ReactFirst/fiap-social-web/src/services/api.js"],"names":["axios","getUser","api","create","baseURL","process","env","REACT_APP_API_HOST","add","data","newComent","setComents","request","description","coment","console","log","length","alert","response","post","id","headers","newAnwser","created_at","createdAt","Student","Answers","push","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAEA,OAAO,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADO,CAAb,CAAZ;AAIP,OAAO,eAAeC,GAAf,CAAmBC,IAAnB,EAAwBC,SAAxB,EAAkCC,UAAlC,EAA6C;AAEhD,QAAMC,OAAO,GAAG;AACZC,IAAAA,WAAW,EAAGH,SAAS,CAACI;AADZ,GAAhB;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;;AACA,MAAGA,OAAO,CAACC,WAAR,CAAoBI,MAApB,GAA6B,EAAhC,EAAmC;AAC/BC,IAAAA,KAAK,CAAC,uEAAD,CAAL;AACA,WAAO,KAAP;AACH;;AAED,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMjB,GAAG,CAACkB,IAAJ,CAAU,cAAaX,IAAI,CAACY,EAAG,UAA/B,EAA0CT,OAA1C,EAAmD;AACtEU,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAD6D,KAAnD,CAAvB;AAKAJ,IAAAA,KAAK,CAAC,iCAAD,CAAL;AACA,UAAMK,SAAS,GAAG;AACdF,MAAAA,EAAE,EAAEF,QAAQ,CAACV,IAAT,CAAcY,EADJ;AAEdR,MAAAA,WAAW,EAAEM,QAAQ,CAACV,IAAT,CAAcI,WAFb;AAGdW,MAAAA,UAAU,EAAEL,QAAQ,CAACV,IAAT,CAAcgB,SAHZ;AAIdC,MAAAA,OAAO,EAAEzB,OAAO;AAJF,KAAlB;AAMAQ,IAAAA,IAAI,CAACkB,OAAL,CAAaC,IAAb,CAAkBL,SAAlB;AACAZ,IAAAA,UAAU,CAAC;AAACE,MAAAA,WAAW,EAAE;AAAd,KAAD,CAAV;AAGH,GAjBD,CAiBE,OAAOgB,KAAP,EAAc;AACZd,IAAAA,OAAO,CAACc,KAAR,CAAcA,KAAd;AACAX,IAAAA,KAAK,CAACW,KAAD,CAAL;AACH;AACJ","sourcesContent":["import axios from \"axios\";\nimport {getUser} from \"./security\";\n\nexport const api = axios.create({\n    baseURL: process.env.REACT_APP_API_HOST\n});\n\nexport async function add(data,newComent,setComents){\n\n    const request = {\n        description : newComent.coment\n    };\n    console.log(request)\n    if(request.description.length < 10){\n        alert('Atenção!!\\nA Quantidade minima de caracteres precisa ser no minimo 10');\n        return false;\n    }\n\n    try {\n        const response = await api.post(`/questions/${data.id}/answers`, request, {\n            headers: {\n                \"Content-type\": \"application/json\"\n            }\n        });\n        alert(\"Comentário Postado com Sucesso!\");\n        const newAnwser = {\n            id: response.data.id,\n            description: response.data.description,\n            created_at: response.data.createdAt,\n            Student: getUser()\n        }\n        data.Answers.push(newAnwser);\n        setComents({description: \"\"});\n\n\n    } catch (error) {\n        console.error(error);\n        alert(error);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}